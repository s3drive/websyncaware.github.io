(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{506:function(e,t,n){"use strict";n.r(t),n.d(t,"org_cycle",(function(){return r})),n.d(t,"org_set_fold",(function(){return a})),n.d(t,"org_shifttab",(function(){return i})),n.d(t,"org_metaleft",(function(){return s})),n.d(t,"org_metaright",(function(){return d})),n.d(t,"org_meta_return",(function(){return u})),n.d(t,"org_shiftleft",(function(){return m})),n.d(t,"org_shiftright",(function(){return f})),n.d(t,"org_insert_todo_heading",(function(){return g})),n.d(t,"org_metaup",(function(){return v})),n.d(t,"org_metadown",(function(){return b})),n.d(t,"org_shiftmetaright",(function(){return y})),n.d(t,"org_shiftmetaleft",(function(){return w})),n.d(t,"fold",(function(){return j})),n.d(t,"unfold",(function(){return S})),n.d(t,"isFold",(function(){return T}));var r=function(e){var t=e.getCursor();T(e,t)?S(e,t):j(e,t)},o={stab:"CONTENT"},a=function(e){var t=e.getCursor();return l(e,o.stab),e.setCursor(t),o.stab},i=function(e){return"SHOW_ALL"===o.stab?o.stab="OVERVIEW":"OVERVIEW"===o.stab?o.stab="CONTENT":"CONTENT"===o.stab&&(o.stab="SHOW_ALL"),l(e,o.stab),o.stab};function l(e,t){"OVERVIEW"===t?function(e){e.operation((function(){for(var t=e.firstLine(),n=e.lastLine();t<=n;t++)j(e,CodeMirror.Pos(t,0))}))}(e):"SHOW_ALL"===t?function(e){e.operation((function(){for(var t=e.firstLine(),n=e.lastLine();t<=n;t++)!0===/header/.test(e.getTokenTypeAt(CodeMirror.Pos(t,0)))&&S(e,CodeMirror.Pos(t,0))}))}(e):"CONTENT"===t&&function(e){e.operation((function(){for(var t=null,n=e.firstLine(),r=e.lastLine();n<=r;n++)if(j(e,CodeMirror.Pos(n,0)),!0===/header/.test(e.getTokenTypeAt(CodeMirror.Pos(n,0)))){var o=e.getLine(n).replace(/^(\*+).*/,"$1").length;t&&o>t.level&&S(e,CodeMirror.Pos(t.line,0)),t={line:n,level:o}}}))}(e),e.refresh()}var s=function(e){c(e,e.getCursor().line)};function c(e,t){var n=null;if(n=k(e,t))n.level>1&&e.replaceRange("",{line:n.start,ch:0},{line:n.start,ch:1});else if(n=_(e,t))for(var r=n.start;r<=n.end;r++)n.level>0&&e.replaceRange("",{line:r,ch:0},{line:r,ch:2});else if(n=E(e,t)){for(var o=n.start;o<=n.end;o++)n.level>0&&e.replaceRange("",{line:o,ch:0},{line:o,ch:3});O(e,t)}}var d=function(e){p(e,e.getCursor().line)};function p(e,t){var n=null,r=null;if(n=k(e,t))e.replaceRange("*",{line:n.start,ch:0});else if(n=_(e,t)){if((r=_(e,n.start-1))&&n.level<r.level+1)for(var o=n.start;o<=n.end;o++)e.replaceRange("  ",{line:o,ch:0})}else if((n=E(e,t))&&(r=E(e,n.start-1))&&n.level<r.level+1){for(var a=n.start;a<=n.end;a++)e.replaceRange("   ",{line:a,ch:0});O(e,n.start)}}var u=function(e){var t=e.getCursor().line,n=e.getLine(t),r=null;if(r=_(e,t)){var o=r.level;e.replaceRange("\n"+" ".repeat(2*o)+"- ",{line:r.end,ch:e.getLine(r.end).length}),e.setCursor({line:r.end+1,ch:2*o+2})}else if(r=E(e,t)){var a=r.level;e.replaceRange("\n"+" ".repeat(3*a)+(r.n+1)+". ",{line:r.end,ch:e.getLine(r.end).length}),e.setCursor({line:r.end+1,ch:3*a+3}),O(e,t)}else if(r=k(e,t)){var i=function(e,t,n){var r,o;for(o=n-1;o>0;o--)if(null!==(r=k(e,n)))return r;return null}(e,0,t),l=i&&i.level||1;e.replaceRange("\n"+"*".repeat(l)+" ",{line:t,ch:n.length}),e.setCursor({line:t+1,ch:l+1})}else""===n.trim()?(e.replaceRange("* ",{line:t,ch:0}),e.setCursor({line:t,ch:2})):(e.replaceRange("\n\n* ",{line:t,ch:n.length}),e.setCursor({line:t+2,ch:2}))},h=["TODO","DONE",""],m=function(e){var t=[].concat(h.slice(0).reverse(),h.slice(-1)),n=e.getCursor().line,r=e.getLine(n),o=k(e,n);null!==o&&(o.status=t[t.indexOf(o.status)+1],e.replaceRange(x(o),{line:n,ch:0},{line:n,ch:r.length}))},f=function(e){e.operation((function(){var t=[].concat(h,[h[0]]),n=e.getCursor().line,r=e.getLine(n),o=k(e,n);null!==o&&(o.status=t[t.indexOf(o.status)+1],e.replaceRange(x(o),{line:n,ch:0},{line:n,ch:r.length}))}))},g=function(e){e.operation((function(){var t=e.getCursor().line,n=e.getLine(t),r=null;if(r=_(e,t)){var o=r.level;e.replaceRange("\n"+" ".repeat(2*o)+"- [ ] ",{line:r.end,ch:e.getLine(r.end).length}),e.setCursor({line:t+1,ch:6+2*o})}else if(r=E(e,t)){var a=r.level;e.replaceRange("\n"+" ".repeat(3*a)+(r.n+1)+". [ ] ",{line:r.end,ch:e.getLine(r.end).length}),e.setCursor({line:r.end+1,ch:3*a+7}),O(e,t)}else if(r=k(e,t)){var i=r&&r.level||1;e.replaceRange("\n"+"*".repeat(i)+" TODO ",{line:t,ch:n.length}),e.setCursor({line:t+1,ch:i+6})}else""===n.trim()?(e.replaceRange("* TODO ",{line:t,ch:0}),e.setCursor({line:t,ch:7})):(e.replaceRange("\n\n* TODO ",{line:t,ch:n.length}),e.setCursor({line:t+2,ch:7}))}))},v=function(e){e.operation((function(){var t=e.getCursor().line,n=null;if(n=_(e,t)){var r=_(e,n.start-1);r&&(C(e,[n.start,n.end],[r.start,r.end]),O(e,t))}else if(n=E(e,t)){var o=E(e,n.start-1);o&&(C(e,[n.start,n.end],[o.start,o.end]),O(e,t))}else if(n=k(e,t)){var i,l=t;do{if(i=k(e,l-=1,n.level))break}while(l>0);i&&(C(e,[n.start,n.end],[i.start,i.end]),a(e))}}))},b=function(e){e.operation((function(){var t=e.getCursor().line,n=null;if(n=_(e,t)){var r=_(e,n.end+1);r&&C(e,[n.start,n.end],[r.start,r.end])}else if(n=E(e,t)){var o=E(e,n.end+1);o&&C(e,[n.start,n.end],[o.start,o.end]),O(e,t)}else if(n=k(e,t)){var i=k(e,n.end+1,n.level);i&&(C(e,[n.start,n.end],[i.start,i.end]),a(e))}}))},y=function(e){e.operation((function(){var t,n=e.getCursor().line;if(t=k(e,n)){p(e,n);for(var r=t.start+1;r<=t.end;r++)k(e,r)&&p(e,r)}}))},w=function(e){e.operation((function(){var t,n=e.getCursor().line;if(t=k(e,n)){if(1===t.level)return;c(e,n);for(var r=t.start+1;r<=t.end;r++)k(e,r)&&c(e,r)}}))};function x(e){var t="*".repeat(e.level)+" ";return e.status&&(t+=e.status+" "),t+e.content}function _(e,t){var n=function(e,t){var n;do{if(n=e.getLine(t),/^\s*\-/.test(n))return t;if(!1===/^\s+/.test(n))break;t-=1}while(t>=0);return null}(e,t);if(null===n)return null;t=n;var r=e.getLine(t);if(r&&("-"!==r.trimLeft()[0]||" "!==r.trimLeft()[1]))return null;var o=r.replace(/^(\s*).*$/,"$1").length;return o%2!=0?null:{type:"list",level:o/2,content:r.trimLeft().replace(/^\s*\-\s(.*)$/,"$1"),start:t,end:function(e,t){var n=t,r=null;do{if(t+=1,void 0===(r=e.getLine(t))||"-"===r.trimLeft()[0])break;if(!/^\s+/.test(r))break;n=t}while(t<=e.lineCount());return n}(e,t)}}function E(e,t){var n=function(e,t){var n;do{if(n=e.getLine(t),/^\s*[0-9]+[\.\)]\s/.test(n))return t;if(!1===/^\s+/.test(n))break;t-=1}while(t>=0);return null}(e,t);if(null===n)return null;t=n;var r=e.getLine(t);if(!1===/^[0-9]+[\.\)]\s.*$/.test(r&&r.trimLeft()))return null;var o=r.replace(/^(\s*)[0-9]+.*$/,"$1").length;return o%3!=0?null:{type:"numbered",level:o/3,content:r.trimLeft().replace(/^[0-9]+[\.\)]\s(.*)$/,"$1"),start:t,end:function(e,t){var n=t,r=null;do{if(t+=1,void 0===(r=e.getLine(t))||/^[0-9]+[\.\)]/.test(r.trimLeft()))break;if(!/^\s+/.test(r))break;n=t}while(t<=e.lineCount());return n}(e,t),n:parseInt(r.trimLeft().replace(/^([0-9]+).*$/,"$1")),separator:r.trimLeft().replace(/^[0-9]+([\.\)]).*$/,"$1")}}function k(e,t,n){var r=e.getLine(t);if(!1===/^\*+\s/.test(r))return null;var o=r.match(/^(\*+)([\sA-Z]*)\s(.*)$/),a=o[1].length;return void 0!==n&&n!==a||null===o?null:{type:"title",level:a,content:o[3],start:t,end:function(e,t){var n=t,r=null;do{if(t+=1,void 0===(r=e.getLine(t)))break;var o=r.match(/^(\*+)\s.*/);if(o&&o[1]&&(o[1].length===a||o[1].length<a))break;n=t}while(t<=e.lineCount());return n}(e,t),status:o[2].trim()}}function O(e,t){for(var n,r=function(e,t){var n,r,o,a=t;do{if(n=e.getLine(t),r=E(e,t),o=/(\s+).*$/.exec(n),r&&(a=t),!r||!o)break;t-=1}while(t>=0);return a}(e,t),o=function(e,t){var n,r,o,a=t;do{if(n=e.getLine(t),r=E(e,t),o=/(\s+).*$/.exec(n),r&&(a=t),!r||!o)break;t+=1}while(t<e.lineCount());return a}(e,t),a=null,i=r;i<=o;i++){if(n=E(e,i))if(a){if(n.level===a.level){var l=c(e,n.start,r,n.level);l&&n.n!==l.n+1&&p(e,n.start,l.n+1)}else if(n.level>a.level)1!==n.n&&p(e,n.start,1);else if(n.level<a.level){var s=c(e,n.start,r,n.level);s&&n.n!==s.n+1&&p(e,n.start,s.n+1)}}else 1!==n.n&&p(e,n.start,1);(n=E(e,i)||_(e,i))&&(a?n.level>a.level&&n.level!==a.level+1&&d(e,[n.start,n.end],a.level+1,n.type):0!==n.level&&d(e,[n.start,n.end],0,n.type)),a=n,n&&(i+=n.end-n.start)}function c(e,t,n,r){var o;do{if((o=E(e,t-=1))&&o.level===r)return o}while(t>n);return null}function d(t,n,r,o){var a,i;for(i=n[0];i<=n[1];i++){a=e.getLine(i).trimLeft();var l=function(e,t,a){var l=3*r;return i-n[0]>0&&(l+="numbered"===o?3:2),l}();a=" ".repeat(l)+a,e.replaceRange(a,{line:i,ch:0},{line:i,ch:t.getLine(i).length})}}function p(t,n,r){var o=t.getLine(n),a=o.replace(/[0-9]+\./,r+".");e.replaceRange(a,{line:n,ch:0},{line:n,ch:o.length})}}function C(e,t,n){var r=e.getRange({line:t[0],ch:0},{line:t[1],ch:e.getLine(t[1]).length}),o=e.getRange({line:n[0],ch:0},{line:n[1],ch:e.getLine(n[1]).length}),a=e.getCursor();n[0]>t[0]?(e.replaceRange(r,{line:n[0],ch:0},{line:n[1],ch:e.getLine(n[1]).length}),e.replaceRange(o,{line:t[0],ch:0},{line:t[1],ch:e.getLine(t[1]).length}),e.setCursor({line:a.line+(n[1]-n[0]+1),ch:a.ch})):(e.replaceRange(o,{line:t[0],ch:0},{line:t[1],ch:e.getLine(t[1]).length}),e.replaceRange(r,{line:n[0],ch:0},{line:n[1],ch:e.getLine(n[1]).length}),e.setCursor({line:a.line-(n[1]-n[0]+1),ch:a.ch}))}function j(e,t){e.foldCode(t,null,"fold")}function S(e,t){e.foldCode(t,null,"unfold")}function T(e,t){for(var n=t.line,r=e.findMarks(CodeMirror.Pos(n,0),CodeMirror.Pos(n+1,0)),o=0;o<r.length;++o)if(r[o].__isFold&&r[o].find().from.line==n)return r[o];return!1}},870:function(e,t,n){var r=n(871);"string"==typeof r&&(r=[[e.i,r,""]]);n(9)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},871:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,".component_editor{display:flex;flex-grow:1;min-height:0;width:100%}.component_editor>div{width:100%;position:relative}.component_editor>div #editor{width:100%;position:absolute;left:0;top:0;bottom:0}.CodeMirror{width:100%;height:100%;color:#3b4045;background:var(--bg-color)}.CodeMirror-sizer>div{padding-top:4px;padding-bottom:5px}.CodeMirror-scroll{-webkit-overflow-scrolling:touch}.CodeMirror-foldmarker{padding:5px}@media screen and (max-width: 400px){.CodeMirror-sizer{margin-left:0 !important}.CodeMirror-gutters{display:none}.CodeMirror-gutter-wrapper{display:none}}.CodeMirror-linenumber{cursor:pointer}.CodeMirror-dialog{position:fixed;left:0;right:0;background:#525659;z-index:15;padding:5px .8em;overflow:hidden;color:#e2e2e2;box-shadow:2px 2px 2px rgba(0,0,0,0.5)}.CodeMirror-dialog-top{border-bottom:1px solid #eee;bottom:0}.CodeMirror-dialog-bottom{border-top:1px solid #eee;bottom:0}.CodeMirror-dialog input{border:none;outline:none;background:transparent;width:20em;color:white}.CodeMirror-dialog button{font-size:70%}.CodeMirror{font-size:16px;font-family:'Source Code Pro', monospace}.cm-s-default .cm-header{font-size:18px}.cm-s-default .cm-header.cm-level1{font-size:19px}@media only screen and (max-width: 600px){.CodeMirror{font-size:14px}.cm-s-default .cm-header{font-size:15px}.cm-s-default .cm-header.cm-level1{font-size:16px}}.CodeMirror .CodeMirror-code{line-height:1.3em}.CodeMirror .CodeMirror-code>div{clear:both}.CodeMirror[mode=\"orgmode\"] .CodeMirror-code{line-height:1.5em}.CodeMirror .CodeMirror-line{padding-left:10%;padding-right:0;max-width:950px}@media screen and (max-width: 1150px){.CodeMirror .CodeMirror-line{padding-left:8%;padding-right:0}}@media screen and (max-width: 900px){.CodeMirror .CodeMirror-line{padding-left:5%;padding-right:0}}@media screen and (max-width: 800px){.CodeMirror .CodeMirror-line{padding-left:2%;padding-right:0}}.CodeMirror .CodeMirror-linenumber{opacity:0.25;color:var(--color)}.CodeMirror .CodeMirror-gutters{box-shadow:none;background-color:inherit;border-right:none}.CodeMirror-linewidget img{cursor:pointer;margin:10px;height:300px;max-width:80%;text-align:center;box-shadow:1px 1px 5px rgba(0,0,0,0.5);background:var(--dark)}.cm-s-default .cm-header{color:#3E7AA6;line-height:1em;font-weight:600}.cm-header.cm-level1{color:#376e95}.cm-s-default .cm-keyword{color:var(--emphasis-secondary)}.cm-s-default .cm-header.cm-org-level-star{color:#6f6f6f;vertical-align:baseline;display:inline-block;padding-left:5px;margin-left:-5px;cursor:pointer}.cm-s-default .cm-header.cm-org-todo{color:#FF8355;font-weight:normal;cursor:pointer}.cm-s-default .cm-header.cm-org-done{color:#3BB27C;font-weight:normal;cursor:pointer}.cm-s-default .cm-header.cm-org-priority{cursor:pointer;font-weight:normal}.cm-s-default .cm-org-toggle{cursor:pointer;background:var(--light);color:var(--super-light);border-radius:3px;font-weight:bold;padding-bottom:2px;vertical-align:text-bottom;opacity:0.7}.cm-s-default .cm-void{display:inline-block;max-width:10px;overflow:hidden;white-space:nowrap}.cm-s-default .cm-header.cm-comment{font-weight:normal;font-size:0.9em !important;float:right;display:inline-block;color:var(--emphasis);line-height:23px}pre.CodeMirror-line{clear:right}.cm-s-default .cm-link{color:var(--emphasis)}.cm-s-default .cm-strong{color:var(--emphasis)}.cm-s-default .cm-org-url,.cm-s-default .cm-org-image{color:var(--emphasis) !important;border-bottom:1px dashed var(--light);cursor:pointer}.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:var(--light)}.cm-s-default .cm-string,.cm-s-default .cm-string-2{color:#c41a16}.cm-s-default .cm-def{color:#458}.cm-s-default .cm-quote{color:var(--dark)}.CodeMirror-gutters{box-shadow:0px 0px 2px rgba(0,0,0,0.1)}.CodeMirror-foldmarker{padding-left:5px;color:var(--color);text-shadow:1px 1px 10px var(--color)}span.CodeMirror-matchingbracket{color:#0f0}span.CodeMirror-nonmatchingbracket{color:#f22}.CodeMirror-cursor{min-width:1px !important}\n",""])},872:function(e,t,n){var r={"./clike":[648,2,5],"./clike.js":[648,2,5],"./clojure":[650,3,10],"./clojure.js":[650,3,10],"./cmake":[651,21],"./cmake.js":[651,21],"./commonlisp":[652,32],"./commonlisp.js":[652,32],"./css":[653,1,37],"./css.js":[653,1,37],"./diff":[654,6],"./diff.js":[654,6],"./dockerfile":[655,7],"./dockerfile.js":[655,7],"./elm":[656,8],"./elm.js":[656,8],"./emacs-org":[506],"./emacs-org.js":[506],"./erlang":[657,9],"./erlang.js":[657,9],"./go":[658,11],"./go.js":[658,11],"./htmlmixed":[659,1,0,12],"./htmlmixed.js":[659,1,0,12],"./javascript":[660,0,13],"./javascript.js":[660,0,13],"./jsx":[661,0,14],"./jsx.js":[661,0,14],"./keymap_base":[494,15],"./keymap_base.js":[494,15],"./keymap_vim":[495,3,16],"./keymap_vim.js":[495,3,16],"./lua":[663,17],"./lua.js":[663,17],"./orgmode":[664,18],"./orgmode.js":[664,18],"./perl":[665,39,19],"./perl.js":[665,39,19],"./php":[666,1,0,2,40,20],"./php.js":[666,1,0,2,40,20],"./properties":[667,22],"./properties.js":[667,22],"./python":[668,23],"./python.js":[668,23],"./r":[669,24],"./r.js":[669,24],"./ruby":[670,25],"./ruby.js":[670,25],"./rust":[671,26],"./rust.js":[671,26],"./sass":[672,1,27],"./sass.js":[672,1,27],"./shell":[673,28],"./shell.js":[673,28],"./sparql":[674,29],"./sparql.js":[674,29],"./spreadsheet":[675,30],"./spreadsheet.js":[675,30],"./sql":[676,41,31],"./sql.js":[676,41,31],"./stex":[677,33],"./stex.js":[677,33],"./text":[647,4],"./text.js":[647,4],"./xml":[678,34],"./xml.js":[678,34],"./yaml":[680,36],"./yaml-frontmatter":[679,42,35],"./yaml-frontmatter.js":[679,42,35],"./yaml.js":[680,36]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=872,e.exports=o},873:function(e,t,n){var r={"./keymap_base":[494,2,5],"./keymap_base.js":[494,2,5],"./keymap_vim":[495,3,10],"./keymap_vim.js":[495,3,10]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(r)},o.id=873,e.exports=o},879:function(e,t,n){var r=n(880);"string"==typeof r&&(r=[[e.i,r,""]]);n(9)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},880:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,".component_modal.todo-modal{background:var(--super-light);background:linear-gradient(var(--super-light), var(--bg-color))}.component_modal.todo-modal>div{width:calc(100% - 20px);max-width:500px;padding:5px;border-bottom-right-radius:15px;box-shadow:1px 2px 10px rgba(0,0,0,0.05)}.component_modal.todo-modal .modal-top{margin:-5px -5px 0 -5px;padding:30px 0px 0 30px;background:var(--primary);border-bottom:2px solid var(--emphasis-primary);color:rgba(0,0,0,0.5);min-height:65px}.component_modal.todo-modal .modal-top h1{margin:0}.component_modal.todo-modal .modal-top span{float:right;margin-top:-10px}.component_modal.todo-modal .modal-top span .component_icon{margin-top:-10px;padding:10px 15px;height:15px;cursor:pointer}.component_modal.todo-modal .modal-top .search{text-align:right}.component_modal.todo-modal .modal-top .search label{background:white;margin-bottom:-2px;border-top-left-radius:7px;border-left:2px solid var(--emphasis-primary);border-top:2px solid var(--emphasis-primary);display:inline-block}.component_modal.todo-modal .modal-top .search label.active input,.component_modal.todo-modal .modal-top .search label:hover input{width:150px;padding:2px 7px;transition:width 0.2s ease-out}.component_modal.todo-modal .modal-top .search label input{transition:width 0.1s ease-out;width:0px;background:inherit;border:none;border-top-left-radius:7px;margin:0;font-size:1em;color:var(--emphasis-secondary);line-height:25px}.component_modal.todo-modal .modal-top .search label input::-webkit-input-placeholder{color:var(--emphasis-secondary)}.component_modal.todo-modal .modal-top .search label input:-ms-input-placeholder{color:var(--emphasis-secondary)}.component_modal.todo-modal .modal-top .search label input::-moz-input-placeholder{color:var(--emphasis-secondary)}.component_modal.todo-modal .modal-top .search label .component_icon{height:20px;padding:5px}.component_modal.todo-modal .nothing{color:var(--light);text-align:center;padding:40px 0;font-size:1.3em;text-decoration:line-through}.component_modal.todo-modal .container{margin:10px 5px 10px 0px;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding:0 10px 10px 10px}.component_modal.todo-modal .container .sticky_header{z-index:2;border-bottom:2px solid var(--primary)}.component_modal.todo-modal .container .sticky_header h2{text-transform:uppercase;font-size:1.1em;color:var(--primary);margin:10px 0 15px 0;font-weight:normal}.component_modal.todo-modal .container .sticky_header h2 span{background:var(--bg-color);font-size:0.6em;color:var(--emphasis-secondary);float:right;line-height:1em;vertical-align:middle;display:inline-block;padding:3px 5px;border-radius:3px}.component_modal.todo-modal .container .list{margin:0px 0 40px 0;z-index:0}.component_modal.todo-modal .all-done p{font-size:1.3em;padding:10px 10px 10px 20px;color:var(--light)}.component_headline .headline-main{display:flex;cursor:pointer;-webkit-tap-highlight-color:transparent;border-top:2px solid var(--super-light);border-bottom:2px solid var(--super-light);margin-bottom:-2px;padding:5px 0;transition:color 0.1s ease-out, border-color 0.2s ease-out}.component_headline .headline-main.overdue{color:var(--error)}.component_headline .headline-main.done{color:var(--light);transition:color 0.35s ease-out}.component_headline .headline-main.done:hover{background:inherit}.component_headline .headline-main.done .title>div{border-color:rgba(0,0,0,0) !important}.component_headline .headline-main .title{flex:1;min-width:0;line-height:32px}.component_headline .headline-main .title .label{margin-right:10px}.component_headline .headline-main .title>div{border-radius:2px;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:border-color 0.2s ease-out;border-left:5px solid rgba(0,0,0,0);padding-left:5px}.component_headline .headline-main .title>div.A,.component_headline .headline-main .title>div.overdue{border-color:var(--error)}.component_headline .headline-main .title>div.B:not(.overdue){border-color:#FF8355}.component_headline .headline-main .title>div.C:not(.overdue){border-color:var(--bg-color)}.component_headline .headline-main .title .component_icon{height:17px;vertical-align:text-top}.component_headline .headline-main .title .tags{display:inline-block;margin-left:10px;font-size:0.9em}.component_headline .headline-main .title .tags .tag{padding:0 5px;margin:0 3px;color:red;background:var(--bg-color);color:var(--light);border-radius:4px}.component_headline .headline-main .title .tags .tag:before{content:'#';color:rgba(0,0,0,0.2)}.component_headline .headline-main .component_icon{height:18px}.component_headline .headline-main .title{position:relative}.component_headline .headline-main .title:after{content:' ';display:block;width:100%;border-top:2px solid var(--super-light);position:absolute;left:0;bottom:-7px;transition:bottom 0.15s ease-out}.component_headline .headline-main.done{transition:border-color 0.15s ease-out;border-color:rgba(0,0,0,0)}.component_headline .headline-main.done .title:after{bottom:15px;transition:bottom 0.25s ease-out}.component_headline .headline-properties{display:flex;background:var(--super-light);color:var(--light);font-size:0.95em;padding:5px 8px}.component_headline .headline-properties>div{display:flex;width:100%}.component_headline .headline-properties>div label{display:flex;width:100%}.component_headline .headline-properties>div label>div{width:100%}@media screen and (max-width: 440px){.component_headline .headline-properties>div{width:100%}}.component_headline .headline-properties input[type=\"date\"]{width:100%;background:inherit;border:none;font-size:inherit;font-family:inherit;color:inherit;margin:0;padding:0;line-height:20px}.component_headline .headline-properties .component_icon{width:20px;height:20px;margin-right:4px}.subtask_container{background:#fafafa;color:var(--light);font-size:0.95em;line-height:0.95em;padding:5px 0}.subtask_container .component_subtask{margin:5px}.subtask_container .component_subtask label{width:100%;display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.subtask_container .component_subtask label input[type=\"checkbox\"]{margin:0 5px}\n",""])},881:function(e,t,n){var r=n(882);"string"==typeof r&&(r=[[e.i,r,""]]);n(9)(r,{hmr:!0,transform:void 0,insertInto:void 0}),r.locals&&(e.exports=r.locals)},882:function(e,t,n){(e.exports=n(8)(!1)).push([e.i,".component_ide{display:flex;flex-direction:column;width:100%}.component_ide .editor_container{display:flex;flex-grow:1;min-height:0}.component_ide .component_menubar .component_dropdown{float:right}.component_ide .component_menubar .component_dropdown .dropdown_button{border:none;padding:0;margin:0}.component_ide .component_menubar .component_dropdown.active .dropdown_button{box-shadow:none}.component_ide .component_menubar .component_dropdown .dropdown_container ul li>div{padding:0;width:200px}.component_ide .component_menubar .component_dropdown .dropdown_container ul li>div a{padding:7px 5px 7px 10px;display:inline-block;width:100%;box-sizing:border-box}.editor-appear{opacity:0}.editor-appear.editor-appear-active{transition:opacity 0.3s ease-out;opacity:1}.fab-appear,.fab-enter{opacity:0}.fab-appear.fab-appear-active,.fab-enter.fab-enter-active{transition:all 0.4s ease-out;opacity:1}.fab-leave{opacity:1}.fab-leave.fab-leave-active{transition:opacity 0.2s ease-out;opacity:0}\n",""])},938:function(e,t,n){"use strict";n.r(t),n.d(t,"IDE",(function(){return ie}));var r=n(1),o=n.n(r),a=n(12),i=n.n(a),l=n(10),s=n(859),c=n(3),d=n(2),p=n(7),u=n.n(p),h=n(459),m=n.n(h),f=(n(862),n(864),n(491),n(865),n(505),n(866),n(543),n(645),n(867),n(868),n(506));function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(870),window.CodeMirror=m.a;var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(r,o.a.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={loading:null,editor:null,filename:n.props.filename,listeners:[]},n._refresh=n._refresh.bind(x(n)),n.onEdit=n.onEdit.bind(x(n)),n}return function(e,t,n){t&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"_refresh",value:function(){this.state.editor&&this.state.editor.refresh()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this._refresh),this.setState({loading:null,error:!1},(function(){window.setTimeout((function(){null===e.state.loading&&e.setState({loading:!0})}),200)})),this.loadKeybinding().then((function(){return e.loadMode(e.props.filename)})).then((function(t){return new Promise((function(n){e.setState({loading:!1},(function(){return n(t)}))}))})).then(function(e){var t=this,n=v(e,2),r=n[0],o=n[1],a=[],i=r(document.getElementById("editor"),{value:this.props.content,lineNumbers:!0,mode:o,keyMap:-1===["emacs","vim"].indexOf(CONFIG.editor)?"sublime":CONFIG.editor,lineWrapping:!0,readOnly:!this.props.readonly,foldOptions:{widget:"..."}});return"ontouchstart"in window||i.focus(),i.getWrapperElement().setAttribute("mode",o),this.props.onModeChange(o),i.on("change",this.onEdit),"orgmode"===o&&a.push(r.orgmode.init(i,(function(e,n){"shifttab"===e&&t.props.onFoldChange(n)}))),r.commands.save=function(){t.props.onSave&&t.props.onSave()},i.addKeyMap({"Ctrl-X Ctrl-C":function(e){window.history.back()}}),new Promise((function(e){t.setState({editor:i,listeners:a},e)}))}.bind(this)).then((function(){e.props.event.subscribe((function(t){var n=v(t,2),r=n[0],o=n[1];if("goTo"===r)e.state.editor.operation((function(t){e.state.editor.setSelection({line:o,ch:0},{line:o,ch:e.state.editor.getLine(o).length})})),requestAnimationFrame((function(){var t=e.state.editor.charCoords({line:o,ch:0},"local").top;e.state.editor.operation((function(n){e.state.editor.scrollTo(null,t),e.state.editor.setSelection({line:o,ch:0},{line:o,ch:e.state.editor.getLine(o).length})}))}));else if("refresh"===r){var a=e.state.editor.getCursor(),i=e.state.editor.listSelections();e.state.editor.setValue(e.props.content),e.state.editor.setCursor(a),i.length>0&&e.state.editor.setSelection(i[0].anchor,i[0].head)}else"fold"===r&&(e.props.onFoldChange(Object(f.org_shifttab)(e.state.editor)),e.state.editor.refresh())}))}))}},{key:"onEdit",value:function(e){this.props.onChange&&this.props.onChange(e.getValue())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._refresh),this.state.editor.off("change",this.onEdit),this.state.editor.clearHistory(),this.state.listeners.map((function(e){return e()}))}},{key:"loadMode",value:function(e){var t,r=e.split(".").pop();return r=r.replace(/~$/,"").replace(/\#$/,""),t="org"===r||"org_archive"===r?"orgmode":"sh"===r?"shell":"py"===r?"python":"html"===r||"htm"===r?"htmlmixed":"css"===r?"css":"less"===r||"scss"===r||"sass"===r?"sass":"js"===r||"json"===r?"javascript":"jsx"===r?"jsx":"php"===r||"php5"===r||"php4"===r?"php":"elm"===r?"elm":"erl"===r?"erlang":"go"===r?"go":"markdown"===r||"md"===r?"yaml-frontmatter":"pl"===r||"pm"===r?"perl":"clj"===r?"clojure":"el"===r||"lisp"===r||"cl"===r||"emacs"===r?"commonlisp":"Dockerfile"===r?"dockerfile":"R"===r?"r":"Makefile"===r?"cmake":"rb"===r?"ruby":"sql"===r?"sql":"xml"===r||"rss"===r||"svg"===r||"atom"===r?"xml":"yml"===r||"yaml"===r?"yaml":"lua"===r?"lua":"csv"===r?"spreadsheet":"rs"===r||"rlib"===r?"rust":"latex"===r||"tex"===r?"stex":"diff"===r||"patch"===r?"diff":"sparql"===r?"sparql":"properties"===r?"properties":"c"===r||"cpp"===r||"java"===r||"h"===r?"clike":"text",n(872)("./"+t).catch((function(){return n.e(4).then(n.bind(null,647))})).then((function(e){return Promise.resolve([e.default,t])}))}},{key:"loadKeybinding",value:function(){return"emacs"!==CONFIG.editor&&CONFIG.editor?n(873)("./keymap_"+CONFIG.editor):Promise.resolve()}},{key:"render",value:function(){return o.a.createElement("div",{className:"component_editor"},o.a.createElement(c.B,{cond:!0===this.state.loading},o.a.createElement(c.t,null)),o.a.createElement(c.B,{cond:!1===this.state.loading},o.a.createElement("div",{id:"editor"})))}}]),r}();E.propTypes={content:u.a.string.isRequired,filename:u.a.string.isRequired,onChange:u.a.func,onSave:u.a.func};var k=Object(l.i)(E),O=n(33),C=n(874);function j(e){for(var t,n,r=[],o=s(0),a=[],i=e.split("\n"),l=0;l<i.length;l++)n=i[l],(t=S(n,l))?((a=a.filter((function(e){return e.level<t.level}))).push({level:t.level,tags:t.tags}),t.tags=a.reduce((function(e,t){return e.concat(t.tags)}),[]),o.header&&(r.push(o),o=s(l)),o.header=t):(t=D(n,l))?o.timestamps=o.timestamps.concat(t):(t=T(n,l))&&o.subtasks.push(t),l===i.length-1&&o.header&&r.push(o);return r;function s(e){return{id:Object(d.C)(e.toString(),5)+Object(d.y)(e),timestamps:[],subtasks:[]}}}function S(e,t){return e.match(/^(\*+)\s(?:([A-Z]{4,})\s){0,1}(?:\[\#([A-C])\]\s){0,1}(.*?)(?:\s+\:((?:[a-z]+\:){1,})){0,1}$/)?{line:t,level:RegExp.$1.length,todo_keyword:RegExp.$2||null,priority:RegExp.$3||null,title:RegExp.$4||"Empty Heading",tags:RegExp.$5.replace(/:/g," ").trim().split(" ").filter((function(e){return e}))}:null}function T(e,t){var n=e.match(/(?:-|\d+[\.\)])\s\[([X\s-])\]\s(.*)/);return n?{line:t,status:function(e){return"X"===e?"DONE":" "===e?"TODO":null}(n[1]),title:n[2]||"Empty task"}:null}function D(e,t,n){var r=/(?:([A-Z]+)\:\s){0,1}([<\[])(\d{4}-\d{2}-\d{2})[^>](?:[A-Z][a-z]{1,2})(?:\s([0-9]{2}\:[0-9]{2})){0,1}(?:\-([0-9]{2}\:[0-9]{2})){0,1}(?:\s(\+{1,2}[0-9]+[dwmy])){0,1}[\>\]](?:--[<\[](\d{4}-\d{2}-\d{2})\s[A-Z][a-z]{1,2}\s(\d{2}:\d{2}){0,1}[>\]]){0,1}/,o=e.match(r);if(!o)return n||null;var a={line:t,keyword:o[1],active:"<"===o[2],timestamp:new Date(o[3]+(o[4]?" "+o[4]:"")).toISOString(),range:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return n&&!r?new Date(e+" "+n)-new Date(e+" "+t):r?new Date(r+" "+o)-new Date(e+" "+t):null}(o[3],o[4],o[5],o[7],o[8]),repeat:function(e){return e?{n:parseInt(e.replace(/^.*([0-9]+).*$/,"$1")),interval:e.replace(/^.*([dwmy])$/,"$1")}:null}(o[6])};return n||(n=[]),n.push(a),D(e.replace(r,""),t,n)}function L(e){return e.filter((function(e){return"DEADLINE"===e.keyword}))[0]||null}function M(e){return e.filter((function(e){return"SCHEDULED"===e.keyword}))[0]||null}function N(e,t){return"todo"===e&&t.filter((function(e){return!(A(new Date)<A(new Date(e.timestamp))||"DEADLINE"!==e.keyword&&"SCHEDULED"!==e.keyword)})).length>0}function A(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}var R=n(35),P=n(5);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&function(e,t){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}(this,n)}}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(879);var K=function(e){q(n,o.a.Component);var t=Q(n);function n(){return H(this,n),t.apply(this,arguments)}return W(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.content!==e.content||this.props.isActive!==e.isActive}},{key:"render",value:function(){var e=this.props.isActive?function(e){for(var t=j(e),n=[],r=0;r<t.length;r++)n=n.concat(o(t[r]));return n.sort((function(e,t){return e.date-t.date}));function o(e){for(var t=[],n=0;n<e.timestamps.length;n++){var r=e.timestamps[n];if(!1!==r.active){var o=function(e){return e?-1!==["TODO","NEXT","DOING","WAITING","PENDING"].indexOf(e)?"todo":"done":null}(e.header.todo_keyword),a={id:e.id,line:e.header.line,title:e.header.title,status:e.header.todo_keyword,todo_status:o,scheduled:M(e.timestamps),deadline:L(e.timestamps),is_overdue:N(o,e.timestamps),priority:e.header.priority,tasks:[],tags:e.header.tags};if("done"!==a.todo_status){a.date=new Date(r.timestamp);var i=new Date;if(i.setHours(23),i.setMinutes(59),i.setSeconds(59),i.setMilliseconds(999),a.date<i&&(a.date=i),a.key=Intl.DateTimeFormat().format(a.date),a.date=a.date.toISOString(),r.repeat)if("m"===r.repeat.interval)t.push(a);else{"y"===r.repeat.interval?r.repeat.n*=365:"w"===r.repeat.interval&&(r.repeat.n*=7);for(var l=r.repeat.n,s=A(new Date),c=0;c<30;c++)(s-A(new Date(r.timestamp)))/1e3*60*60*24%l==0&&(a.date=s.getTime(),a.key=Intl.DateTimeFormat().format(s),t.push(JSON.parse(JSON.stringify(a)))),s.setDate(s.getDate()+1)}else t.push(a)}}}return t}}(this.props.content):[];return o.a.createElement(J,{title:"Agenda",headlines:e,content:this.props.content,isActive:this.props.isActive,onQuit:this.props.onQuit,goTo:this.props.goTo,onUpdate:this.props.onUpdate})}}]),n}(),Z=function(e){q(n,o.a.Component);var t=Q(n);function n(){return H(this,n),t.apply(this,arguments)}return W(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.content!==e.content||this.props.isActive!==e.isActive}},{key:"render",value:function(){var e=this.props.isActive?function(e){for(var t=j(e),n=[],r=0;r<t.length;r++){var o=a(t[r]);o.status&&n.push(o)}return n.sort((function(e,t){return"NEXT"===e.status&&"NEXT"!==t.status?-1:"NEXT"===t.status&&"NEXT"!==e.status?1:"TODO"===e.status&&"TODO"!==t.status?-1:"TODO"===t.status&&"TODO"!==e.status?1:"DONE"===e.status&&"DONE"!==t.status&&"done"===t.todo_status?-1:"DONE"===t.status&&"DONE"!==e.status&&"done"===e.todo_status?1:"todo"===e.todo_status&&"todo"!==t.todo_status?-1:"done"===e.todo_status&&"done"!==t.todo_status?1:null!==e.priority&&null===t.priority?-1:null===e.priority&&null!==t.priority?1:null!==e.priority&&null!==t.priority&&e.priority!==t.priority?e.priority>t.priority?1:-1:!0===e.is_overdue&&!1===t.is_overdue?-1:!1===e.is_overdue&&!0===t.is_overdue?1:e.status===t.status?e.id<t.id?-1:1:void 0}));function a(e){var t=-1!==["TODO","NEXT","DOING","WAITING","PENDING"].indexOf(e.header.todo_keyword)?"todo":"done";return{key:e.header.todo_keyword,id:e.id,line:e.header.line,title:e.header.title,status:e.header.todo_keyword,todo_status:t,is_overdue:N(t,e.timestamps),priority:e.header.priority,scheduled:M(e.timestamps),deadline:L(e.timestamps),tasks:e.subtasks,tags:e.header.tags}}}(this.props.content):[];return o.a.createElement(J,{title:"Todos",headlines:e,content:this.props.content,isActive:this.props.isActive,onQuit:this.props.onQuit,goTo:this.props.goTo,onUpdate:this.props.onUpdate})}}]),n}(),J=function(e){q(n,o.a.Component);var t=Q(n);function n(e){var r;return H(this,n),(r=t.call(this,e)).state={headlines:r.buildHeadlines(e.headlines),content:e.content,search:"",_:null},r.rerender=function(){r.setState({_:Math.random()})},r.findResults=Object(d.s)(r.findResults.bind(G(r)),150),r}return W(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({headlines:this.buildHeadlines(e.headlines),content:e.content})}},{key:"buildHeadlines",value:function(e){return e.reduce((function(e,t){return e[t.key]||(e[t.key]=[]),e[t.key].push(t),e}),{})}},{key:"onChange",value:function(e,t,n){z({},this.state.headlines)[Object.keys(this.state.headlines)[e]][t].status=n,this.setState({headlines:this.state.headlines})}},{key:"onTaskUpdate",value:function(e,t,n){var r,o,a,i,l,s,c=this.state.content.split("\n");switch(e){case"status":c[t]=c[t].replace(/^(\*+\s)[A-Z]{3,}(\s.*)$/,"$1"+n+"$2");break;case"subtask":c[t]="DONE"===n?c[t].replace(/\[.\]/,"[X]"):c[t].replace(/\[.\]/,"[ ]");break;case"existing_scheduled":var d=I(t,3);r=d[0],a=d[1],c[o=d[2]]=c[o].replace(/SCHEDULED: <.*?>\s*/,n?"SCHEDULED: "+m(n)+" ":""),this.state.headlines[a]=this.state.headlines[a].map((function(e){return e.line===r&&(n?e.scheduled.timestamp=new Date(n).toISOString():e.scheduled=null),e})),this.setState({headlines:this.state.headlines});break;case"existing_deadline":var p=I(t,3);r=p[0],a=p[1],c[o=p[2]]=c[o].replace(/DEADLINE: <.*?>\s*/,n?"DEADLINE: "+m(n):""),this.state.headlines[a]=this.state.headlines[a].map((function(e){return e.line===r&&(n?e.deadline.timestamp=new Date(n).toISOString():e.deadline=null),e})),this.setState({headlines:this.state.headlines});break;case"new_scheduled":var u=I(t,3);r=u[0],a=u[1],null!==(i=u[2])?(s=i,c[i]="SCHEDULED: "+m(n)+" "+c[i]):""===c[s=r+1]&&""===c[s+1]?c[s]="SCHEDULED: "+m(n):c.splice(s,0,"SCHEDULED: "+m(n)),this.state.headlines[a]=this.state.headlines[a].map((function(e){return e.line===r&&(e.scheduled={line:s,keyword:"SCHEDULED",active:!0,range:null,repeat:null,timestamp:new Date(n).toISOString()}),e})),this.setState({headlines:this.state.headlines});break;case"new_deadline":var h=I(t,3);r=h[0],a=h[1],null!==(l=h[2])?(s=l,c[l]=c[l]+" DEADLINE: "+m(n)):(""===c[s=r+1]&&""===c[s+1]?c[s]="DEADLINE: "+m(n):c.splice(s,0,"DEADLINE: "+m(n)),this.state.headlines[a]=this.state.headlines[a].map((function(e){return e.line===r&&(e.deadline={line:s,keyword:"DEADLINE",active:!0,range:null,repeat:null,timestamp:new Date(n).toISOString()}),e})),this.setState({headlines:this.state.headlines}))}function m(e){var t=new Date(e);return"<"+t.getFullYear()+"-"+Object(R.c)((t.getMonth()+1).toString(),2)+"-"+Object(R.c)(t.getDate().toString(),2)+" "+function(e){switch(navigator.language.split("-")[0]){case"de":break;default:return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e]}}(t.getDay())+">"}this.setState({content:c.join("\n")})}},{key:"navigate",value:function(e){this.props.goTo(e),this.onQuit()}},{key:"onQuit",value:function(){this.props.onUpdate(this.state.content),this.props.onQuit()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.rerender)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.rerender)}},{key:"search",value:function(e){var t=this;this.setState({search:e},(function(){t.findResults(e)}))}},{key:"findResults",value:function(e){var t=this.props.headlines;e&&(t=this.props.headlines.filter((function(t){var n=e.split(" "),r=function(){var e=" ";return e+=t.status+" ",e+=t.title+" ",e+=t.tags.map((function(e){return"#"+e})).join(" ")+" ",e+=t.scheduled?"scheduled "+t.scheduled.timestamp+" ":"",e+=t.deadline?"deadline "+t.deadline.timestamp+" ":"",e+=t.priority?"priority #"+t.priority+" ":"",(e+=t.is_overdue?"overdue ":"")+(t.tasks.map((function(e){return e.title})).join(" ")+" ")}();return n.filter((function(e){return new RegExp(" "+e,"i").test(r)})).length===n.length}))),this.setState({headlines:this.buildHeadlines(t)})}},{key:"render",value:function(){var e=this;return o.a.createElement(c.x,{className:"todo-modal",isActive:this.props.isActive,onQuit:this.onQuit.bind(this)},o.a.createElement("div",{className:"modal-top no-select"},o.a.createElement("span",{onClick:this.onQuit.bind(this)},o.a.createElement(c.r,{name:"close"})),o.a.createElement("h1",null,this.props.title),o.a.createElement(c.B,{className:"search",cond:this.props.headlines.length>0},o.a.createElement("label",{className:this.state.search.length>0?"active":""},o.a.createElement("input",{type:"text",onChange:function(t){return e.search(t.target.value)},placeholder:Object(P.a)("Search")+" ..."}),o.a.createElement(c.r,{name:"search"})))),o.a.createElement(c.B,{cond:0===this.props.headlines.length,className:"nothing"},Object(P.a)("empty")),o.a.createElement(c.B,{cond:this.props.headlines.length>0},o.a.createElement(C.StickyContainer,{className:"container",style:{height:window.innerHeight>750?545:window.innerHeight-202}},Object.keys(this.state.headlines).map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement(C.Sticky,{relative:!0},(function(n){var r=n.style;return o.a.createElement("div",{className:"sticky_header no-select",style:z(z({},r),{},{overflow:"auto",background:"white",zIndex:4})},o.a.createElement("h2",null,t," ",o.a.createElement("span",null,e.state.headlines[t].length)))})),o.a.createElement("div",{className:"list"},e.state.headlines[t].map((function(t,r){return o.a.createElement(Y,{type:e.props.title.toLowerCase(),onTaskUpdate:e.onTaskUpdate.bind(e),onChange:e.onChange.bind(e,n,r),tasks:t.tasks,key:r,title:t.title,tags:t.tags,line:t.line,date:t.date,overdue:t.is_overdue,scheduled:t.scheduled,deadline:t.deadline,sortKey:t.key,status:t.status||null,todo_status:t.todo_status,todo_priority:t.priority,goTo:e.navigate.bind(e,t.line)})}))))})))))}}]),n}(),Y=function(e){q(n,o.a.Component);var t=Q(n);function n(e){var r;return H(this,n),(r=t.call(this,e)).state={status:e.todo_status,properties:!1},r}return W(n,[{key:"onMenuAction",value:function(e){"navigate"===e?this.props.goTo():"properties"===e&&this.setState({properties:!this.state.properties})}},{key:"onStatusToggle",value:function(){if(this.props.todo_status){var e="todo"===this.state.status?"done":"todo";this.setState({status:e});var t=function(e,t,n){return e===t?n:"todo"===e?"TODO":"DONE"}(e,this.props.todo_status,this.props.status);this.props.onTaskUpdate("status",this.props.line,t)}}},{key:"onTimeSet",value:function(e,t,n){if(!0===t)this.props.onTaskUpdate("existing_"+e,[this.props.line,this.props.sortKey,this.props[e].line],n);else{var r="scheduled"===e?"deadline":"scheduled";this.props.onTaskUpdate("new_"+e,[this.props.line,this.props.sortKey,this.props[r]&&this.props[r].line||null],n)}}},{key:"render",value:function(){var e=this,t=function(e){if(!e||!e.timestamp)return"";var t=new Date(e.timestamp);return t.getFullYear()+"-"+Object(R.c)((t.getMonth()+1).toString(),2)+"-"+Object(R.c)(t.getDate().toString(),2)};return o.a.createElement("div",{className:"component_headline"},o.a.createElement("div",{className:"no-select headline-main "+(this.state.status||"")},o.a.createElement("div",{className:"title",onClick:this.onStatusToggle.bind(this)},o.a.createElement("div",{className:(this.props.todo_priority?this.props.todo_priority+" ":"")+(!0===this.props.overdue?"overdue":"")},o.a.createElement("span",{className:"label"},this.props.title),o.a.createElement(c.B,{cond:null!==this.props.scheduled&&this.props.scheduled.timestamp===this.props.date,type:"inline"},o.a.createElement(c.r,{name:"schedule"})),o.a.createElement(c.B,{cond:null!==this.props.deadline&&this.props.deadline.timestamp===this.props.date,type:"inline"},o.a.createElement(c.r,{name:"deadline"})),o.a.createElement("div",{className:"tags"},this.props.tags.map((function(e,t){return o.a.createElement("span",{className:"tag",key:t},e)}))))),o.a.createElement(c.h,{onChange:this.onMenuAction.bind(this)},o.a.createElement(c.i,null,o.a.createElement(c.r,{name:"more"})),o.a.createElement(c.k,null,o.a.createElement(c.j,{name:"navigate",icon:"arrow_right"}," ",Object(P.a)("Navigate")," "),o.a.createElement(c.j,{name:"properties"}," ",Object(P.a)("Properties")," ")))),o.a.createElement(c.B,{className:"headline-properties",cond:this.state.properties},o.a.createElement("div",null,o.a.createElement("label",null," ",o.a.createElement(c.r,{name:"schedule"}),o.a.createElement(c.B,{cond:null!==this.props.scheduled},o.a.createElement("input",{type:"date",value:t(this.props.scheduled),onChange:function(t){return e.onTimeSet("scheduled",!0,t.target.value)}})),o.a.createElement(c.B,{cond:null===this.props.scheduled},o.a.createElement("input",{type:"date",onChange:function(t){return e.onTimeSet("scheduled",!1,t.target.value)}})))),o.a.createElement("div",null,o.a.createElement("label",null," ",o.a.createElement(c.r,{name:"deadline"}),o.a.createElement(c.B,{cond:null!==this.props.deadline},o.a.createElement("input",{type:"date",value:t(this.props.deadline),onChange:function(t){return e.onTimeSet("deadline",!0,t.target.value)}})),o.a.createElement(c.B,{cond:null===this.props.deadline},o.a.createElement("input",{type:"date",onChange:function(t){return e.onTimeSet("deadline",!1,t.target.value)}}))))),o.a.createElement(c.B,{cond:this.props.tasks.length>0&&"todo"===this.state.status&&"todos"===this.props.type,className:"subtask_container"},this.props.tasks.map((function(t,n){return o.a.createElement(ee,{key:n,label:t.title,status:t.status,onStatusChange:e.props.onTaskUpdate.bind(e,"subtask",t.line)})}))))}}]),n}(),ee=function(e){q(n,o.a.Component);var t=Q(n);function n(e){var r;return H(this,n),(r=t.call(this,e)).state=r.calculateState(),r}return W(n,[{key:"calculateState",value:function(){return{checked:"DONE"===this.props.status}}},{key:"updateState",value:function(e){var t=this,n=e.target.checked;this.setState({checked:n},(function(){window.setTimeout((function(){window.requestAnimationFrame((function(){t.props.onStatusChange(n?"DONE":"TODO")}))}),0)}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"component_subtask no-select"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.updateState.bind(this)}),o.a.createElement("span",null,this.props.label)))}}]),n}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(881);var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(n,o.a.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oe(e);if(t){var o=oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={event:new s.Subject,contentToSave:e.content,appear_agenda:!1,appear_todo:!1,mode:null,folding:null},r}return function(e,t,n){t&&ne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"componentDidMount",value:function(){var e=this;this.unblock=this.props.history.block((function(t){return!1===e.props.needSaving||(d.o.now(o.a.createElement("div",{style:{textAlign:"center",paddingBottom:"5px"}},Object(P.a)("Do you want to save the changes ?")),(function(){return e.save().then((function(){return e.props.history.push(t)}))}),(function(){e.props.needSavingUpdate(!1).then((function(){return e.props.history.push(t)}))})),!1)}))}},{key:"componentWillUnmount",value:function(){this.unblock(),window.clearInterval(this.state.id)}},{key:"save",value:function(){var e=this;if(!1!==this.props.needSaving)return this.props.onSave(new window.Blob([this.state.contentToSave],{type:"text/plain"})).then((function(){return e.props.needSavingUpdate(!1)}))}},{key:"onUpdate",value:function(e,t,n){var r=this;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,n),(function(){t&&r.state.event.next(["refresh"]),r.props.content===r.state.contentToSave?r.props.needSavingUpdate(!1):r.props.needSavingUpdate(!0)}))}},{key:"toggleAgenda",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({appear_agenda:null===e?!this.state.appear_agenda:!!e})}},{key:"toggleTodo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({appear_todo:null===e?!this.state.appear_todo:!!e})}},{key:"onModeChange",value:function(){this.state.event.next(["fold"])}},{key:"goTo",value:function(e){this.state.event.next(["goTo",e])}},{key:"download",value:function(){var e=this;document.cookie="download=yes; path=/; max-age=120;",this.setState({random:Math.random(),id:window.setInterval((function(){!1===/download=yes/.test(document.cookie)&&(window.clearInterval(e.state.id),e.setState({random:Math.random()}))}),100)})}},{key:"render",value:function(){var e=this,t=function(e,t){return e.replace(/\.org$/,"."+t)};return o.a.createElement("div",{className:"component_ide"},o.a.createElement(O.a,{title:this.props.filename,download:"orgmode"===this.state.mode?null:this.props.url},o.a.createElement(c.B,{type:"inline",cond:"orgmode"===this.state.mode},o.a.createElement("span",{onClick:this.onModeChange.bind(this)},o.a.createElement(c.B,{cond:"SHOW_ALL"===this.state.folding,type:"inline"},o.a.createElement(c.r,{name:"arrow_up_double"})),o.a.createElement(c.B,{cond:"OVERVIEW"===this.state.folding,type:"inline"},o.a.createElement(c.r,{name:"arrow_down"})),o.a.createElement(c.B,{cond:"CONTENT"===this.state.folding,type:"inline"},o.a.createElement(c.r,{name:"arrow_down_double"}))),o.a.createElement(c.h,{className:"view sort",onChange:function(){return e.download()},enable:!/download=yes/.test(document.cookie)},o.a.createElement(c.i,null,o.a.createElement(c.r,{name:/download=yes/.test(document.cookie)?"loading_white":"download_white"})),o.a.createElement(c.k,null,o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{download:this.props.filename,href:this.props.url},Object(P.a)("Save current file"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",href:"/api/export/"+(Object(d.r)()||"private")+"/text/html"+this.props.path},Object(P.a)("Export as {{VALUE}}","HTML"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",href:"/api/export/"+(Object(d.r)()||"private")+"/application/pdf"+this.props.path},Object(P.a)("Export as {{VALUE}}","PDF"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",href:"/api/export/"+(Object(d.r)()||"private")+"/text/markdown"+this.props.path},Object(P.a)("Export as {{VALUE}}","Markdown"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",href:"/api/export/"+(Object(d.r)()||"private")+"/text/plain"+this.props.path},Object(P.a)("Export as {{VALUE}}","TXT"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",download:t(this.props.filename,"tex"),href:"/api/export/"+(Object(d.r)()||"private")+"/text/x-latex"+this.props.path},Object(P.a)("Export as {{VALUE}}","Latex"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",download:t(this.props.filename,"ics"),href:"/api/export/"+(Object(d.r)()||"private")+"/text/calendar"+this.props.path},Object(P.a)("Export as {{VALUE}}","ical"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",download:t(this.props.filename,"odt"),href:"/api/export/"+(Object(d.r)()||"private")+"/application/vnd.oasis.opendocument.text"+this.props.path},Object(P.a)("Export as {{VALUE}}","Open office"))),o.a.createElement(c.j,{name:"na"},o.a.createElement("a",{target:this.props.needSaving?"_blank":"_self",download:t(this.props.filename,"pdf"),href:"/api/export/"+(Object(d.r)()||"private")+"/application/pdf"+this.props.path+"?mode=beamer"},Object(P.a)("Export as {{VALUE}}","Beamer"))))),o.a.createElement("span",{onClick:this.toggleAgenda.bind(this)},o.a.createElement(c.r,{name:"calendar_white"})),o.a.createElement("span",{onClick:this.toggleTodo.bind(this)},o.a.createElement(c.r,{name:"todo_white"})))),o.a.createElement(i.a,{transitionName:"editor",transitionAppear:!0,transitionEnter:!1,transitionLeave:!1,transitionAppearTimeout:300,className:"editor_container"},o.a.createElement(k,{onSave:this.save.bind(this),filename:this.props.filename,content:this.state.contentToSave,readonly:/PUT/.test(this.props.acl),event:this.state.event.asObservable(),onModeChange:this.onUpdate.bind(this,"mode",!1),onFoldChange:this.onUpdate.bind(this,"folding",!1),onChange:this.onUpdate.bind(this,"contentToSave",!1)})),o.a.createElement(i.a,{transitionName:"fab",transitionLeave:!0,transitionEnter:!0,transitionAppear:!0,transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:200},o.a.createElement(c.B,{key:this.props.needSaving,cond:this.props.needSaving},o.a.createElement(c.B,{cond:!this.props.isSaving},o.a.createElement(c.p,{onClick:this.save.bind(this)},o.a.createElement(c.r,{name:"save",style:{height:"100%",width:"100%"}}))),o.a.createElement(c.B,{cond:this.props.isSaving},o.a.createElement(c.p,null,o.a.createElement(c.r,{name:"loading",style:{height:"100%",width:"100%"}}))))),o.a.createElement(K,{isActive:this.state.appear_agenda,content:this.state.contentToSave,onUpdate:this.onUpdate.bind(this,"contentToSave",!0),goTo:this.goTo.bind(this),onQuit:this.toggleAgenda.bind(this,!1)}),o.a.createElement(Z,{isActive:this.state.appear_todo,content:this.state.contentToSave,onUpdate:this.onUpdate.bind(this,"contentToSave",!0),goTo:this.goTo.bind(this),onQuit:this.toggleTodo.bind(this,!1)}))}}]),n}(),ie=Object(l.i)(ae)}}]);