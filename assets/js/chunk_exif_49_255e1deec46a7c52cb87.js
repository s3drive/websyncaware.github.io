(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{792:function(t,e,n){var a=n(793);"string"==typeof a&&(a=[[t.i,a,""]]);n(7)(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(t.exports=a.locals)},793:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".component_metadata .label{display:inline-block;width:70px;font-size:0.95em;text-align:right;padding-right:10px;color:var(--color);vertical-align:top}.component_metadata .value{display:inline-block;width:calc(100% - 80px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top;letter-spacing:-0.5px}.component_metadata .value.small{font-size:0.95em;letter-spacing:-1px}.text-appear,.text-enter{opacity:0;display:inline-block;transform:translateX(5px);transition:0.3s ease transform, 0.3s ease opacity}.text-appear.text-appear-active,.text-enter.text-enter-active{opacity:1;transform:translateX(0px)}.placeholder-appear,.placeholder-enter{display:inline-block;opacity:0;transition-delay:0.5s;transition:0s ease opacity}.placeholder-appear.placeholder-appear-active,.placeholder-enter.placeholder-enter-active{opacity:0}\n",""])},838:function(t,e,n){"use strict";n.r(e),n.d(e,"SmallExif",(function(){return A})),n.d(e,"LargeExif",(function(){return O}));var a=n(0),r=n.n(a),i=n(791),o=n.n(i),l=n(10),s=n.n(l),u=n(8),c=n(2),m=n(3);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e,n){return(f=S()?Reflect.construct.bind():function(t,e,n){var a=[null];a.push.apply(a,e);var r=new(Function.bind.apply(t,a));return n&&g(r,n.prototype),r}).apply(null,arguments)}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function E(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=S();return function(){var n,a=k(t);if(e){var r=k(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(792);var T=function(t){b(n,r.a.Component);var e=w(n);function n(t){var a;if(y(this,n),a=e.call(this,t),(this instanceof n?this.constructor:void 0)===n)throw new TypeError("Cannot construct Popup instances directly");return a.state={date:null,location:null,iso:null,aperture:null,shutter:null,model:null,maker:null,all:null},a}return E(n,[{key:"formatDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.state.date?this.state.date.toLocaleDateString(navigator.language,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t.day=n,t}({day:"numeric",year:"numeric",month:"short"},"day","numeric")):t}},{key:"formatTime",value:function(){return this.state.date?this.state.date.toLocaleTimeString("en-us",{weekday:"short",hour:"2-digit",minute:"2-digit"}):null}},{key:"locationMap",value:function(){return"https://www.google.com/maps/search/?api=1&query="+function(t){if(!t||2!==t.length)return null;var e=t[0][0]+"°"+t[0][1]+"'"+t[0][2]+"''"+t[0][3];return(e+=" ")+(t[1][0]+"°")+t[1][1]+"'"+t[1][2]+"''"+t[1][3]}(this.state.location)}},{key:"format",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.state[t]?"focal"===t?this.state.focal+"mm":"shutter"===t?this.state.shutter>60?this.state.shutter+"m":this.state.shutter>1?this.state.shutter+"s":"1/"+parseInt(this.state.shutter.denominator/this.state.shutter.numerator)+"s":"iso"===t?"ISO"+this.state.iso:"aperture"===t?"ƒ"+parseInt(10*this.state.aperture)/10:"dimension"===t?2===this.state.dimension.length&&this.state.dimension[0]&&this.state.dimension[1]?this.state.dimension[0]+"x"+this.state.dimension[1]:"-":this.state[t]:e}},{key:"refresh",value:function(){var t=this,e=document.querySelector("img.photo");e&&o.a.getData(e,(function(){var e=o.a.getAllTags(this);t.setState({date:function(t){return t?f(Date,function(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split(/[ :]/))):null}(e.DateTime||e.DateTimeDigitized||e.DateTimeOriginal||e.GPSDateStamp),location:e.GPSLatitude&&e.GPSLongitude&&[[e.GPSLatitude[0],e.GPSLatitude[1],e.GPSLatitude[2],e.GPSLatitudeRef],[e.GPSLongitude[0],e.GPSLongitude[1],e.GPSLongitude[2],e.GPSLongitudeRef]]||null,maker:e.Make||null,model:e.Model||null,focal:e.FocalLength||null,aperture:e.FNumber||null,shutter:e.ExposureTime||null,iso:e.ISOSpeedRatings||null,dimension:e.PixelXDimension&&e.PixelYDimension&&[e.PixelXDimension,e.PixelYDimension]||null,all:0===Object.keys(e).length?null:e})}))}},{key:"clear",value:function(){var t=Object.assign({},this.state);Object.keys(t).map((function(e){return t[e]=null})),this.setState(t)}}]),n}(),A=function(t){b(n,T);var e=w(n);function n(t){return y(this,n),e.call(this,t)}return E(n,[{key:"componentDidMount",value:function(){this.refresh()}},{key:"render",value:function(){var t=function(t){if(!t||2!==t.length)return"-";var e=t[0][0]+"°"+t[0][1]+"'"+t[0][2]+"''"+t[0][3];return(e+=" ")+(t[1][0]+"°")+t[1][1]+"'"+t[1][2]+"''"+t[1][3]};return r.a.createElement("div",{className:"component_metadata"},r.a.createElement("div",null,r.a.createElement("span",{className:"label no-select"},Object(m.a)("Date"),": "),r.a.createElement("span",{className:"value"},this.formatDate("-"))),r.a.createElement("div",null,r.a.createElement("span",{className:"label no-select"},Object(m.a)("Location"),": "),r.a.createElement("span",{className:"value small"},r.a.createElement("a",{href:"https://www.google.com/maps/search/?api=1&query="+t(this.state.location)},t(this.state.location)))),r.a.createElement("div",null,r.a.createElement("span",{className:"label no-select"},Object(m.a)("Settings"),": "),r.a.createElement("span",{className:"value"},function(t,e,n){return t&&e&&n?"ƒ/"+parseInt(10*t)/10+" "+function(t){return t>60?(parseInt(t)/60).toString()+"m":t>=1?parseInt(t).toString()+"s":"1/"+parseInt(function(t){for(var e=[1,2,3,4,5,6,8,10,13,15,20,25,30,40,45,50,60,80,90,100,125,160,180,200,250,320,350,400,500,640,750,800,1e3,1250,1500,1600,2e3,2500,3e3,3200,4e3,5e3,6e3,6400,8e3,12e3,16e3,32e3,5e4],n=0,a=e.length;n<a;n++)if(!(e[n]<=t))return e[n]-t<e[n-1]-t?e[n]:e[n-1];return t}(1/t)).toString()+"s"}(e)+" ISO"+n:"-"}(this.state.aperture,this.state.shutter,this.state.iso))),r.a.createElement("div",null,r.a.createElement("span",{className:"label no-select"},Object(m.a)("Camera"),": "),r.a.createElement("span",{className:"value"},function(t,e){return t||e?e?t+" ("+parseInt(e)+"mm)":t:"-"}(this.state.model,this.state.focal))))}}]),n}(),N=function(t){b(n,T);var e=w(n);function n(t){var a;return y(this,n),(a=e.call(this,t)).state.show_more=!1,a.state._=null,a}return E(n,[{key:"componentDidMount",value:function(){this.refresh_handler(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.refresh_handler(t)}},{key:"refresh_handler",value:function(t){!0===t.ready&&!0===t.show&&this.state._!==t.data?(this.setState({_:t.data}),this.refresh()):!1===t.ready&&!0===t.show&&null!==this.state._&&(this.setState({_:null}),this.clear())}},{key:"all_meta",value:function(){var t=this;return this.state.all?r.a.createElement("div",null,function(t){return t.sort((function(t,e){return t.toLowerCase().trim()<e.toLowerCase().trim()?-1:t.toLowerCase().trim()>e.toLowerCase().trim()?1:0}))}(Object.keys(this.state.all)).map((function(e,n){return"undefined"===e||"thumbnail"===e?null:r.a.createElement("div",{key:n,className:"meta_key"},r.a.createElement("div",{className:"title"},function(t){return t.replace(/([A-Z][a-z])/g," $1")}(e),": "),r.a.createElement("div",{className:"value"},function(e){if(!t.state.all||void 0===t.state.all[e])return"-";if("number"==typeof t.state.all[e])return parseInt(100*t.state.all[e])/100;if(void 0!==t.state.all[e].denominator&&void 0!==t.state.all[e].numerator)return 1===t.state.all[e].denominator?t.state.all[e].numerator:t.state.all[e].numerator>t.state.all[e].denominator?parseInt(10*t.state.all[e].numerator/t.state.all[e].denominator)/10:t.state.all[e].numerator+"/"+t.state.all[e].denominator;if("string"==typeof t.state.all[e])return t.state.all[e];if(Array.isArray(t.state.all[e])){var n=t.state.all[e];return n.length>15&&(n=n.slice(0,3)).push("..."),n.toString().split(",").join(", ")}return JSON.stringify(t.state.all[e],null,2)}(e)))}))):null}},{key:"render",value:function(){var t=this,e=function(t){if(!t||4!==t.length)return null;var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){l=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,4),n=e[0],a=e[1],r=e[2],i=e[3],o=n+a/60+r/3600;return"S"==i||"W"==i?-o:o};return r.a.createElement("div",null,r.a.createElement("div",{className:"content_box"},r.a.createElement(c.r,{name:"schedule"}),r.a.createElement("div",{className:"headline"},t.formatDate()?r.a.createElement(s.a,{transitionName:"text",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("span",{key:t.formatDate()},t.formatDate())):r.a.createElement(s.a,{transitionName:"placeholder",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:500,transitionAppearTimeout:500},r.a.createElement("span",{key:t.formatDate()},"-"))),r.a.createElement("div",{className:"description"},t.formatTime()?r.a.createElement(s.a,{transitionName:"text",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("span",{key:t.formatTime()},t.formatTime())):r.a.createElement(s.a,{transitionName:"placeholder",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:500,transitionAppearTimeout:500},r.a.createElement("span",{key:t.formatTime()},"-")))),r.a.createElement("div",{className:"content_box"},r.a.createElement(c.r,{name:"camera"}),r.a.createElement("div",{className:"headline"},t.format("model")&&t.format("focal")?r.a.createElement(s.a,{transitionName:"text",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("span",{key:t.format("model")},t.format("model")," (",t.format("focal"),")")):r.a.createElement(s.a,{transitionName:"placeholder",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:500,transitionAppearTimeout:500},r.a.createElement("span",{key:t.format("model")+t.format("model")},"-"))),r.a.createElement("div",{className:"description"},t.format("shutter")&&t.format("aperture")&&t.format("focal")?r.a.createElement(s.a,{transitionName:"text",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("span",{key:t.format("shutter")},t.format("aperture")," ",t.format("shutter")," ",t.format("iso"))):r.a.createElement(s.a,{transitionName:"placeholder",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:500,transitionAppearTimeout:500},r.a.createElement("span",{key:t.format("shutter")+t.format("aperture")+t.format("focal")},"-")))),r.a.createElement(c.B,{cond:null!==this.state.location},r.a.createElement(s.a,{transitionName:"image",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("div",{key:JSON.stringify(this.state.location)},r.a.createElement(c.w,{lat:e(this.state.location&&this.state.location[0]),lng:e(this.state.location&&this.state.location[1])})))),r.a.createElement(c.B,{cond:!!this.state.all,className:"more"},r.a.createElement(s.a,{transitionName:"image",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement("div",{key:null===this.state.all},r.a.createElement(c.d,{onClick:function(){return t.setState({show_more:!t.state.show_more})},theme:"primary"},"MORE")))),r.a.createElement(s.a,{transitionName:"image",transitionLeave:!1,transitionEnter:!0,transitionAppear:!0,transitionEnterTimeout:300,transitionAppearTimeout:300},r.a.createElement(c.B,{className:"more_container",key:this.state.show_more,cond:!!this.state.show_more},this.all_meta())))}}]),n}(),O=Object(c.o)(Object(u.i)(N))}}]);